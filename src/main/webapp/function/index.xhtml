
<ui:composition template="/template.xhtml"
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">

	<ui:define name="content">



		<h:body>
			<p:panel id="panel">

				<p:messages autoUpdate="true" closable="true" id="msgs"
					sticky="false"></p:messages>

				<p:tabView onTabChange="clearMessage()">

					<p:tab title="ค้นหาฟังก์ชัน">


						<h:form id="search">
							<h:panelGrid cellpadding="6" columns="6">


								<h:outputLabel for="function" value="ชื่อฟังก์ชัน : " />
								<p:inputText id="functionName" value="" required="true"
									label="ชื่อฟังก์ชัน" />

								<h:outputLabel for="url" value="URl : " />
								<p:inputText id="url" value="" required="true" label="URL" />

								<p:commandButton icon="fa fa-search" value="ค้นหา"
									update="search" process="search"></p:commandButton>
								<p:commandButton value="ยกเลิก" update="panel" process="@this"
									icon="fa fa-times-circle">
									<p:resetInput target="panel" />
								</p:commandButton>

							</h:panelGrid>

						</h:form>

					</p:tab>

					<p:tab title="สร้างฟังก์ชัน">
						<h:form id="add">

							<h:panelGrid columns="6" cellpadding="8">

								<h:outputLabel for="FunctionName" value="ชื่อฟังก์ชัน : " />
								<p:inputText id="FunctionName" value="" required="true"
									label="FunctionName" />

								<h:outputLabel for="Url" value="URL : " />
								<p:inputText id="URL" value="" required="true" label="URL" />


								<p:commandButton value="บันทึก" update="add" ajax="true"
									validateClient="true" process="add" icon="fa fa-save"></p:commandButton>
								<p:commandButton value="ยกเลิก" update="panel" process="@this"
									icon="fa fa-times-circle">
									<p:resetInput target="panel" />
								</p:commandButton>
							</h:panelGrid>


						</h:form>
					</p:tab>

				</p:tabView>

				<p:dataTable value="#{functionBean.functions}" var="function"
					rowIndexVar="index" tableStyle="table-layout: auto;"
					paginator="true" paginatorPosition="bottom" rows="15">
					<p:column headerText="#">
						<h:outputText value="#{index+1}" />
					</p:column>

					<p:column headerText="ชื่อฟังก์ชัน">
						<h:outputText value="#{function.name}" />
					</p:column>

					<p:column headerText="URL">
						<h:outputText value="#{function.url}" />
					</p:column>

				</p:dataTable>



			</p:panel>

			<script type="text/javascript">
				function clearMessage() {
					$('#msgs').html('');
				}
			</script>

		</h:body>


	</ui:define>
</ui:composition>